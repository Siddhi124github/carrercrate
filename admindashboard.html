<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Admin Dashboard - CareerCrate</title>
  <script type="module">
    // ✅ Import modular Firebase SDK
    import { 
      initializeApp 
    } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js";
    import { 
      getFirestore, 
      collection, 
      getDocs, 
      doc, 
      updateDoc, 
      deleteDoc, 
      addDoc,
      orderBy, 
      query,
      serverTimestamp,
      where
    } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js";
    import {
      getAuth,
      createUserWithEmailAndPassword,
      deleteUser,
      onAuthStateChanged
    } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js";

    // Firebase config
    const firebaseConfig = {
      apiKey: "AIzaSyCMTlja4NrE4Cv3_Cv79pRDEykQt8lW1XI",
      authDomain: "carrercrate.firebaseapp.com",
      projectId: "carrercrate",
      storageBucket: "carrercrate.firebasestorage.app",
      messagingSenderId: "312167069617",
      appId: "1:312167069617:web:a22835b5c4e45c61396f90"
    };

    // Initialize Firebase + Firestore
    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);
    const auth = getAuth(app);

    // Global variables
    let currentEditingInternshipId = null;
    let currentUser = null;

    // Check authentication state
    onAuthStateChanged(auth, (user) => {
      currentUser = user;
      if (user) {
        loadAllData();
      } else {
        // Redirect to login if not authenticated
        window.location.href = 'login.html';
      }
    });

    // Load all data
    async function loadAllData() {
      await loadInternships();
      await loadUsers();
      await loadFeedback();
    }

    // Load internships
    async function loadInternships() {
      try {
        const q = query(collection(db, "internships"), orderBy("postedAt", "desc"));
        const querySnapshot = await getDocs(q);
        const list = document.getElementById('internshipsList');
        list.innerHTML = '';
        
        if (querySnapshot.empty) {
          list.innerHTML = '<div class="empty-state">No internships found</div>';
          return;
        }
        
        querySnapshot.forEach(docSnap => {
          const data = docSnap.data();
          const li = document.createElement('li');
          li.className = 'item-card';
          
          // Format date
          let postedDate = "Unknown date";
          if (data.postedAt && data.postedAt.toDate) {
            postedDate = data.postedAt.toDate().toLocaleDateString();
          }
          
          li.innerHTML = `
            <div class="card-header">
              <h4>${data.companyName || 'Unknown Company'}</h4>
              <span class="status ${data.verified ? 'verified' : 'pending'}">
                ${data.verified ? 'Verified' : 'Pending'}
              </span>
            </div>
            <div class="card-details">
              <p><strong>Position:</strong> ${data.position || 'Not specified'}</p>
              <p><strong>Stipend:</strong> ₹${data.stipend || '0'}</p>
              <p><strong>Duration:</strong> ${data.duration || '0'} months</p>
              <p><strong>Contact:</strong> ${data.contactEmail || 'No contact'}</p>
              <p><strong>Posted by:</strong> ${data.postedByEmail || 'Unknown user'}</p>
              <p><strong>Posted on:</strong> ${postedDate}</p>
              ${data.description ? `<p><strong>Description:</strong> ${data.description.substring(0, 100)}${data.description.length > 100 ? '...' : ''}</p>` : ''}
              ${data.requirements ? `<p><strong>Requirements:</strong> ${data.requirements.substring(0, 100)}${data.requirements.length > 100 ? '...' : ''}</p>` : ''}
            </div>
            <div class="card-actions">
              ${!data.verified ? `<button class="btn btn-success" onclick="verifyInternship('${docSnap.id}')">Verify</button>` : ''}
              <button class="btn btn-warning" onclick="editInternship('${docSnap.id}')">Edit</button>
              <button class="btn btn-danger" onclick="deleteInternship('${docSnap.id}')">Delete</button>
            </div>
          `;
          list.appendChild(li);
        });
      } catch (error) {
        console.error("Error loading internships:", error);
        document.getElementById('internshipsList').innerHTML = '<div class="error-state">Error loading internships</div>';
      }
    }

    // Load users from authentication (we'll get them from Firestore users collection)
    async function loadUsers() {
      try {
        const q = query(collection(db, "users"));
        const querySnapshot = await getDocs(q);
        const list = document.getElementById('usersList');
        list.innerHTML = '';
        
        if (querySnapshot.empty) {
          list.innerHTML = '<div class="empty-state">No users found</div>';
          return;
        }
        
        querySnapshot.forEach(docSnap => {
          const data = docSnap.data();
          const li = document.createElement('li');
          li.className = 'item-card';
          
          // Format date
          let createdAt = "Unknown date";
          if (data.createdAt && data.createdAt.toDate) {
            createdAt = data.createdAt.toDate().toLocaleDateString();
          }
          
          li.innerHTML = `
            <div class="card-header">
              <h4>${data.displayName || 'No Name'}</h4>
              <span class="status ${data.emailVerified ? 'verified' : 'pending'}">
                ${data.emailVerified ? 'Verified' : 'Unverified'}
              </span>
            </div>
            <div class="card-details">
              <p><strong>Email:</strong> ${data.email}</p>
              <p><strong>User ID:</strong> ${data.uid || docSnap.id}</p>
              <p><strong>Role:</strong> ${data.role || 'user'}</p>
              <p><strong>Created:</strong> ${createdAt}</p>
            </div>
            <div class="card-actions">
              <button class="btn btn-danger" onclick="deleteUserAccount('${data.uid || docSnap.id}', '${data.email}')">Delete User</button>
            </div>
          `;
          list.appendChild(li);
        });
      } catch (error) {
        console.error("Error loading users:", error);
        document.getElementById('usersList').innerHTML = '<div class="error-state">Error loading users</div>';
      }
    }

    // Load feedback
    async function loadFeedback() {
      try {
        const q = query(collection(db, "feedback"), orderBy("createdAt", "desc"));
        const snapshot = await getDocs(q);
        const list = document.getElementById('feedbackList');
        list.innerHTML = '';

        if (snapshot.empty) {
          list.innerHTML = '<div class="empty-state">No company feedback available</div>';
          return;
        }

        snapshot.forEach(docSnap => {
          const data = docSnap.data();

          // Handle createdAt safely
          let createdAt = "";
          if (data.createdAt && data.createdAt.toDate) {
            createdAt = data.createdAt.toDate().toLocaleString();
          } else if (data.createdAt) {
            createdAt = new Date(data.createdAt).toLocaleString();
          }

          const li = document.createElement('li');
          li.className = 'item-card';
          li.innerHTML = `
            <div class="card-header">
              <h4>${data.company}</h4>
              <span class="rating">${'★'.repeat(data.rating)}${'☆'.repeat(5 - data.rating)}</span>
            </div>
            <div class="card-details">
              <p><strong>Position:</strong> ${data.position}</p>
              <p><strong>Feedback:</strong> "${data.feedback}"</p>
              <p class="timestamp"><small>Posted: ${createdAt}</small></p>
            </div>
            <div class="card-actions">
              <button class="btn btn-danger" onclick="deleteFeedback('${docSnap.id}')">Delete</button>
            </div>
          `;
          list.appendChild(li);
        });
      } catch (error) {
        console.error("Error loading feedback:", error);
        document.getElementById('feedbackList').innerHTML = '<div class="error-state">Error loading feedback</div>';
      }
    }

    // Add new internship
    async function addInternship(internshipData) {
      try {
        await addDoc(collection(db, "internships"), {
          ...internshipData,
          verified: false,
          postedAt: serverTimestamp(),
          postedBy: currentUser.uid,
          postedByEmail: currentUser.email
        });
        showNotification('Internship added successfully!', 'success');
        loadInternships();
        closeModal('internshipModal');
      } catch (error) {
        console.error("Error adding internship:", error);
        showNotification('Error adding internship', 'error');
      }
    }

    // Update internship
    async function updateInternship(internshipId, internshipData) {
      try {
        const ref = doc(db, "internships", internshipId);
        await updateDoc(ref, internshipData);
        showNotification('Internship updated successfully!', 'success');
        loadInternships();
        closeModal('internshipModal');
      } catch (error) {
        console.error("Error updating internship:", error);
        showNotification('Error updating internship', 'error');
      }
    }

    // Edit internship - load data into form
    async function editInternship(internshipId) {
      try {
        currentEditingInternshipId = internshipId;
        
        // Get internship data
        const internshipsRef = collection(db, "internships");
        const q = query(internshipsRef, where("__name__", "==", internshipId));
        const querySnapshot = await getDocs(q);
        
        if (!querySnapshot.empty) {
          const internshipData = querySnapshot.docs[0].data();
          
          // Fill form with existing data
          document.getElementById('companyName').value = internshipData.companyName || '';
          document.getElementById('position').value = internshipData.position || '';
          document.getElementById('stipend').value = internshipData.stipend || '';
          document.getElementById('duration').value = internshipData.duration || '';
          document.getElementById('contactEmail').value = internshipData.contactEmail || '';
          document.getElementById('description').value = internshipData.description || '';
          document.getElementById('requirements').value = internshipData.requirements || '';
          
          // Update modal title and button
          document.getElementById('internshipModalTitle').textContent = 'Edit Internship';
          document.getElementById('internshipSubmitBtn').textContent = 'Update Internship';
          
          // Show modal
          openModal('internshipModal');
        }
      } catch (error) {
        console.error("Error loading internship for edit:", error);
        showNotification('Error loading internship data', 'error');
      }
    }

    async function verifyInternship(internshipId) {
      try {
        const ref = doc(db, "internships", internshipId);
        await updateDoc(ref, { verified: true });
        showNotification('Internship verified successfully!', 'success');
        loadInternships();
      } catch (error) {
        console.error("Error verifying internship:", error);
        showNotification('Error verifying internship', 'error');
      }
    }

    async function deleteInternship(internshipId) {
      if (confirm('Are you sure you want to delete this internship?')) {
        try {
          const ref = doc(db, "internships", internshipId);
          await deleteDoc(ref);
          showNotification('Internship deleted successfully!', 'success');
          loadInternships();
        } catch (error) {
          console.error("Error deleting internship:", error);
          showNotification('Error deleting internship', 'error');
        }
      }
    }

    // Add new user
    async function addUser(userData) {
      try {
        // Create user in Firebase Auth
        const userCredential = await createUserWithEmailAndPassword(
          auth, 
          userData.email, 
          userData.password
        );
        
        // Add user data to Firestore
        await addDoc(collection(db, "users"), {
          uid: userCredential.user.uid,
          email: userData.email,
          displayName: userData.name,
          role: userData.role || 'user',
          createdAt: serverTimestamp(),
          emailVerified: false
        });
        
        showNotification('User created successfully!', 'success');
        loadUsers();
        closeModal('userModal');
      } catch (error) {
        console.error("Error creating user:", error);
        showNotification(`Error creating user: ${error.message}`, 'error');
      }
    }

    // Delete user account
    async function deleteUserAccount(userId, userEmail) {
      if (confirm(`Are you sure you want to delete user: ${userEmail}? This action cannot be undone.`)) {
        try {
          // Delete from Firestore
          const userRef = doc(db, "users", userId);
          await deleteDoc(userRef);
          
          showNotification('User deleted successfully!', 'success');
          loadUsers();
        } catch (error) {
          console.error("Error deleting user:", error);
          showNotification('Error deleting user', 'error');
        }
      }
    }

    async function deleteFeedback(feedbackId) {
      if (confirm('Are you sure you want to delete this feedback?')) {
        try {
          const ref = doc(db, "feedback", feedbackId);
          await deleteDoc(ref);
          showNotification('Feedback deleted successfully!', 'success');
          loadFeedback();
        } catch (error) {
          console.error("Error deleting feedback:", error);
          showNotification('Error deleting feedback', 'error');
        }
      }
    }

    // Show notification
    function showNotification(message, type) {
      const notification = document.createElement('div');
      notification.className = `notification ${type}`;
      notification.textContent = message;
      
      document.body.appendChild(notification);
      
      // Remove after 3 seconds
      setTimeout(() => {
        notification.classList.add('fade-out');
        setTimeout(() => {
          if (document.body.contains(notification)) {
            document.body.removeChild(notification);
          }
        }, 300);
      }, 3000);
    }

    // Modal functions
    function openModal(modalId) {
      document.getElementById(modalId).style.display = 'flex';
    }

    function closeModal(modalId) {
      document.getElementById(modalId).style.display = 'none';
      resetInternshipForm();
    }

    function resetInternshipForm() {
      document.getElementById('internshipForm').reset();
      currentEditingInternshipId = null;
      document.getElementById('internshipModalTitle').textContent = 'Add New Internship';
      document.getElementById('internshipSubmitBtn').textContent = 'Add Internship';
    }

    // Handle internship form submission
    function handleInternshipSubmit(e) {
      e.preventDefault();
      
      const formData = new FormData(e.target);
      const internshipData = {
        companyName: formData.get('companyName'),
        position: formData.get('position'),
        stipend: parseInt(formData.get('stipend')),
        duration: parseInt(formData.get('duration')),
        contactEmail: formData.get('contactEmail'),
        description: formData.get('description'),
        requirements: formData.get('requirements')
      };
      
      if (currentEditingInternshipId) {
        updateInternship(currentEditingInternshipId, internshipData);
      } else {
        addInternship(internshipData);
      }
    }

    // Handle user form submission
    function handleUserSubmit(e) {
      e.preventDefault();
      
      const formData = new FormData(e.target);
      const userData = {
        name: formData.get('name'),
        email: formData.get('email'),
        password: formData.get('password'),
        role: formData.get('role')
      };
      
      addUser(userData);
    }

    // Expose functions to global scope
    window.verifyInternship = verifyInternship;
    window.deleteInternship = deleteInternship;
    window.deleteFeedback = deleteFeedback;
    window.editInternship = editInternship;
    window.deleteUserAccount = deleteUserAccount;
    window.openModal = openModal;
    window.closeModal = closeModal;
    window.loadInternships = loadInternships;
    window.loadUsers = loadUsers;
    window.loadFeedback = loadFeedback;

    // Add event listeners when DOM is loaded
    document.addEventListener('DOMContentLoaded', function() {
      document.getElementById('internshipForm').addEventListener('submit', handleInternshipSubmit);
      document.getElementById('userForm').addEventListener('submit', handleUserSubmit);
      
      // Close modals when clicking outside
      document.querySelectorAll('.modal').forEach(modal => {
        modal.addEventListener('click', function(e) {
          if (e.target === this) {
            closeModal(this.id);
          }
        });
      });
    });
  </script>

  <style>
    :root {
      --primary: #4361ee;
      --primary-dark: #3a56d4;
      --success: #4cc9f0;
      --danger: #f72585;
      --warning: #f8961e;
      --light: #f8f9fa;
      --dark: #212529;
      --gray: #6c757d;
      --light-gray: #e9ecef;
      --border-radius: 8px;
    }
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }
    
    body {
      background-color: #f5f7fb;
      color: #333;
      padding: 20px;
      line-height: 1.6;
    }
    
    .dashboard-header {
      text-align: center;
      margin-bottom: 30px;
      padding-bottom: 20px;
      border-bottom: 1px solid var(--light-gray);
    }
    
    .dashboard-header h1 {
      color: var(--primary);
      margin-bottom: 10px;
      font-size: 2.2rem;
    }
    
    .dashboard-header p {
      color: var(--gray);
      font-size: 1.1rem;
    }
    
    .section {
      background-color: white;
      border-radius: var(--border-radius);
      padding: 25px;
      margin-bottom: 30px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
    }
    
    .section-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
      padding-bottom: 15px;
      border-bottom: 1px solid var(--light-gray);
    }
    
    .section-header h2 {
      color: var(--dark);
      font-size: 1.5rem;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    
    .section-header h2 i {
      color: var(--primary);
    }
    
    .action-buttons {
      display: flex;
      gap: 10px;
    }
    
    .btn {
      padding: 8px 15px;
      border: none;
      border-radius: var(--border-radius);
      cursor: pointer;
      font-weight: 500;
      transition: all 0.3s;
      font-size: 0.9rem;
      display: flex;
      align-items: center;
      gap: 5px;
    }
    
    .btn-primary {
      background-color: var(--primary);
      color: white;
    }
    
    .btn-success {
      background-color: var(--success);
      color: white;
    }
    
    .btn-danger {
      background-color: var(--danger);
      color: white;
    }
    
    .btn-warning {
      background-color: var(--warning);
      color: white;
    }
    
    .btn:hover {
      opacity: 0.9;
      transform: translateY(-2px);
    }
    
    .refresh-btn {
      background-color: var(--primary);
      color: white;
      border: none;
      padding: 8px 15px;
      border-radius: var(--border-radius);
      cursor: pointer;
      font-weight: 500;
      transition: background-color 0.3s;
      display: flex;
      align-items: center;
      gap: 5px;
    }
    
    .refresh-btn:hover {
      background-color: var(--primary-dark);
    }
    
    .items-container {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
      gap: 20px;
    }
    
    .item-card {
      border: 1px solid var(--light-gray);
      border-radius: var(--border-radius);
      padding: 20px;
      transition: transform 0.3s, box-shadow 0.3s;
      background-color: white;
    }
    
    .item-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 8px 15px rgba(0, 0, 0, 0.08);
    }
    
    .card-header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      margin-bottom: 15px;
    }
    
    .card-header h4 {
      color: var(--dark);
      font-size: 1.2rem;
      margin-right: 10px;
    }
    
    .status {
      padding: 4px 10px;
      border-radius: 20px;
      font-size: 0.8rem;
      font-weight: 500;
      white-space: nowrap;
    }
    
    .status.pending {
      background-color: #fff3cd;
      color: #856404;
    }
    
    .status.verified {
      background-color: #d1edff;
      color: #0c5460;
    }
    
    .rating {
      color: #ffc107;
      font-weight: bold;
    }
    
    .card-details p {
      margin-bottom: 8px;
      color: var(--dark);
    }
    
    .timestamp {
      color: var(--gray);
      font-size: 0.9rem;
      margin-top: 10px;
    }
    
    .card-actions {
      display: flex;
      gap: 10px;
      margin-top: 15px;
      flex-wrap: wrap;
    }
    
    .empty-state, .error-state {
      text-align: center;
      padding: 40px 20px;
      color: var(--gray);
      grid-column: 1 / -1;
    }
    
    /* Modal Styles */
    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.5);
      z-index: 1000;
      justify-content: center;
      align-items: center;
    }
    
    .modal-content {
      background-color: white;
      border-radius: var(--border-radius);
      width: 90%;
      max-width: 500px;
      max-height: 90vh;
      overflow-y: auto;
      padding: 30px;
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
    }
    
    .modal-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
      padding-bottom: 15px;
      border-bottom: 1px solid var(--light-gray);
    }
    
    .modal-header h3 {
      color: var(--dark);
    }
    
    .close-btn {
      background: none;
      border: none;
      font-size: 1.5rem;
      cursor: pointer;
      color: var(--gray);
    }
    
    .form-group {
      margin-bottom: 20px;
    }
    
    .form-group label {
      display: block;
      margin-bottom: 8px;
      font-weight: 600;
      color: var(--dark);
    }
    
    .form-control {
      width: 100%;
      padding: 12px;
      border: 1px solid var(--light-gray);
      border-radius: var(--border-radius);
      font-size: 1rem;
      transition: border-color 0.3s;
    }
    
    .form-control:focus {
      border-color: var(--primary);
      outline: none;
      box-shadow: 0 0 0 3px rgba(67, 97, 238, 0.1);
    }
    
    textarea.form-control {
      min-height: 100px;
      resize: vertical;
    }
    
    .notification {
      position: fixed;
      top: 20px;
      right: 20px;
      padding: 15px 20px;
      border-radius: var(--border-radius);
      color: white;
      font-weight: 500;
      z-index: 1000;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
      animation: slideIn 0.3s ease-out;
    }
    
    .notification.success {
      background-color: #38b000;
    }
    
    .notification.error {
      background-color: var(--danger);
    }
    
    .notification.fade-out {
      animation: slideOut 0.3s ease-in;
    }
    
    @keyframes slideIn {
      from { transform: translateX(100%); opacity: 0; }
      to { transform: translateX(0); opacity: 1; }
    }
    
    @keyframes slideOut {
      from { transform: translateX(0); opacity: 1; }
      to { transform: translateX(100%); opacity: 0; }
    }
    
    /* Responsive styles */
    @media (max-width: 768px) {
      .items-container {
        grid-template-columns: 1fr;
      }
      
      .section-header {
        flex-direction: column;
        align-items: flex-start;
        gap: 15px;
      }
      
      .card-header {
        flex-direction: column;
        align-items: flex-start;
        gap: 10px;
      }
      
      .card-actions {
        flex-direction: column;
      }
      
      .action-buttons {
        flex-direction: column;
        width: 100%;
      }
      
      .btn {
        width: 100%;
        justify-content: center;
      }
    }
  </style>
</head>
<body>
  <div class="dashboard-header">
    <h1>CareerCrate Admin Dashboard</h1>
    <p>Manage users, internships, and company feedback</p>
  </div>

  >
  </div>

  <!-- Internships Section -->
  <div class="section">
    <div class="section-header">
      <h2><i class="fas fa-briefcase"></i> Internship Management</h2>
      <div class="action-buttons">
        <button class="btn btn-primary" onclick="openModal('internshipModal')">
          <i class="fas fa-plus"></i> Add Internship
        </button>
        <button class="btn refresh-btn" onclick="loadInternships()">
          <i class="fas fa-sync-alt"></i> Refresh
        </button>
      </div>
    </div>
    <div class="items-container" id="internshipsList">
      <!-- Internships will be loaded here -->
    </div>
  </div>

  <!-- Feedback Section -->
  <div class="section">
    <div class="section-header">
      <h2><i class="fas fa-comment-dots"></i> Company Feedback</h2>
      <button class="btn refresh-btn" onclick="loadFeedback()">
        <i class="fas fa-sync-alt"></i> Refresh
      </button>
    </div>
    <div class="items-container" id="feedbackList">
      <!-- Feedback will be loaded here -->
    </div>
  </div>

  <!-- Add/Edit Internship Modal -->
  <div class="modal" id="internshipModal">
    <div class="modal-content">
      <div class="modal-header">
        <h3 id="internshipModalTitle">Add New Internship</h3>
        <button class="close-btn" onclick="closeModal('internshipModal')">&times;</button>
      </div>
      <form id="internshipForm">
        <div class="form-group">
          <label for="companyName">Company Name</label>
          <input type="text" id="companyName" name="companyName" class="form-control" required>
        </div>
        <div class="form-group">
          <label for="position">Position</label>
          <input type="text" id="position" name="position" class="form-control" required>
        </div>
        <div class="form-group">
          <label for="stipend">Stipend (₹)</label>
          <input type="number" id="stipend" name="stipend" class="form-control" required>
        </div>
        <div class="form-group">
          <label for="duration">Duration (months)</label>
          <input type="number" id="duration" name="duration" class="form-control" required>
        </div>
        <div class="form-group">
          <label for="contactEmail">Contact Email</label>
          <input type="email" id="contactEmail" name="contactEmail" class="form-control" required>
        </div>
        <div class="form-group">
          <label for="description">Description</label>
          <textarea id="description" name="description" class="form-control"></textarea>
        </div>
        <div class="form-group">
          <label for="requirements">Requirements</label>
          <textarea id="requirements" name="requirements" class="form-control"></textarea>
        </div>
        <button type="submit" class="btn btn-primary" id="internshipSubmitBtn" style="width: 100%;">
          Add Internship
        </button>
      </form>
    </div>
  </div>

  <!-- Add User Modal -->
  <div class="modal" id="userModal">
    <div class="modal-content">
      <div class="modal-header">
        <h3>Add New User</h3>
        <button class="close-btn" onclick="closeModal('userModal')">&times;</button>
      </div>
      <form id="userForm">
        <div class="form-group">
          <label for="name">Full Name</label>
          <input type="text" id="name" name="name" class="form-control" required>
        </div>
        <div class="form-group">
          <label for="email">Email</label>
          <input type="email" id="email" name="email" class="form-control" required>
        </div>
        <div class="form-group">
          <label for="password">Password</label>
          <input type="password" id="password" name="password" class="form-control" required minlength="6">
        </div>
        <div class="form-group">
          <label for="role">Role</label>
          <select id="role" name="role" class="form-control" required>
            <option value="user">User</option>
            <option value="admin">Admin</option>
          </select>
        </div>
        <button type="submit" class="btn btn-primary" style="width: 100%;">
          Create User
        </button>
      </form>
    </div>
  </div>

  <!-- Font Awesome for icons -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js"></script>
</body>
</html>